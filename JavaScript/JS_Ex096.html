<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트위임</title>
    <style>
        table {
            width: 600px;
            margin: auto;
            border: 1px solid gray;
            height: 300px;
        }
        .highlight{
            font-size: 20pt;
            color: ivory;
        }
    </style>
    <script>
        colors = "lightcyan,darkturquoise,turquoise,mediumturquoise,paleturquoise,aquamarine,powderblue,cadetblue,steelblue,cornflowerblue,deepskyblue,dodgerblue".split(",");
        console.log(colors);
        let selectedTd;
        window.onload = function () {
            let tds = document.getElementsByTagName('td');
            console.log(tds.length);
            for (let i = 0; i < tds.length; i++) {
                tds[i].style.backgroundColor = colors[i];
            }
            // 이벤트 위임
            table.onclick = function (event) {
                let target = event.target; // 클릭이 어디서 발생했을까요?
                if (target.tagName != 'TD') return; // TD에서 발생한 게 아니라면 아무 작업도 하지 않습니다,
                highlight(target); // 강조 함
            };
        }
        function highlight(td) {
            if (selectedTd) { // 이미 강조되어있는 칸이 있다면 원상태로 바꿔줌
                selectedTd.classList.remove('highlight');
            }
            selectedTd = td;
            selectedTd.classList.add('highlight'); // 새로운 td를 강조 함
        }
    </script>
</head>

<body>
    <table id="table" border="1">
        <tr>
            <td onclick="alert(this.innerHTML);">내용 001</td>
            <td>내용 002</td>
            <td>내용 003</td>
        </tr>
        <tr>
            <td>내용 001</td>
            <td>내용 002</td>
            <td>내용 003</td>
        </tr>
        <tr>
            <td>내용 001</td>
            <td>내용 002</td>
            <td>내용 003</td>
        </tr>
    </table>
</body>

</html>