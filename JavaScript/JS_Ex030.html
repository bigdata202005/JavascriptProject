<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
    // 생성자 함수와 return
    // 객체를 return 한다면, this 대신 객체가 반환됩니다.
    // 원시형을 return 한다면, return문이 무시됩니다.
    function BigUser(){
        // this = {} // 암시적으로 생성
        this.name = "한사람";
        // return this; 암시적으로 생성되지 않는다.
        return {
                name : "두사람"
        } // 객체를 return 한다면, this 대신 객체가 반환됩니다.
    }
    user1 = new BigUser();
    document.writeln(user1.name + "<br>"); // 두사람
    
    function BigUser2(){
        // this = {} // 암시적으로 생성
        this.name = "한사람";
        // return this; 암시적으로 생성된다.
        return "난뭐?"; // 원시형을 return 한다면, return문이 무시됩니다.
    }   
    user2 = new BigUser2();
    document.writeln(user2 + "<br>"); // "난뭐?"가 출력되지 않는다. 왜? 기본형의 리턴은 무시되고 return this가 적용됨
    document.writeln(user2.name + "<br>"); // 한사람

    function BigUser3(){
        // this = {} // 암시적으로 생성
        this.name = "한사람";
        // return this; 암시적으로 생성된다.
        return ; // 아무것도 return 하지 않아도, return this;가 된다.
    }       
    user3 = new BigUser3();
    document.writeln(user3 + "<br>"); 
    document.writeln(user3.name + "<br>");
    // 괄호를 생략해도 된다.
    user4 = new BigUser3;
    user5 = new BigUser3();
    document.writeln(user4.name + "<br>");
    document.writeln(user5.name + "<br>");


    // 생성자 내 메서드
    // 생성자 함수를 사용하면 매개변수를 이용해 객체 내부를 자유롭게 구성할 수 있습니다.
    // 엄청난 유연성이 확보되죠.
    function User(name, age, gender) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        // 메서드 생성가능
        this.sayHi = function() {
            document.writeln( "나의 이름은  " + this.name  + "입니다.<br>");
        };
        this.toString = function() {
            document.writeln( this.name  + "("+this.age + "세,("+(this.gender?"남":"여") + ")<br>");
        };
    }

    user6 = new User('한사람', 22, true);
    user7 = new User('두사람', 33, false);
    user6.toString()
    user7.toString()
    user6.sayHi()
    user7.sayHi()
    



    </script>
</head>
<body>
    
</body>
</html>